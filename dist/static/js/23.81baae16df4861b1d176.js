webpackJsonp([23],{"0kkR":function(e,t,i){"use strict";function a(e){i("nUVv")}Object.defineProperty(t,"__esModule",{value:!0});var n=i("Rc0l"),o=i("IkEM"),s=i("46Yf"),r=a,c=s(n.a,o.a,!1,r,"data-v-56a607c8",null);t.default=c.exports},"0nnt":function(e,t){var i=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=i)},"3cXf":function(e,t,i){e.exports={default:i("I4CF"),__esModule:!0}},CaOM:function(e,t,i){"use strict";function a(e,t,i){var a=t,n=e,o=null;clearInterval(o),o=setInterval(function(){var e=(a-n)/10;e=e>0?Math.ceil(e):Math.floor(e),n+=e,window.scrollTo(0,n),n==a&&(i.flag=1,clearInterval(o))},10)}function n(){var e=window.location.href,t=e.split("?");t.shift();for(var i="?",a=0;a<t.length;a++)i+=t[a]+"&";var n=new Object;if(-1!=i.indexOf("?"))for(var o=i.substr(1),s=o.split("&"),a=0;a<s.length;a++)n[s[a].split("=")[0]]=unescape(s[a].split("=")[1]);return n}function o(e,t,i){var a=new Date;return a.setTime(a.getTime()+i),document.cookie=e+"="+escape(t)+";expires="+a.toGMTString()+";path=/",!0}function s(e){var t,i=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(i))?unescape(t[2]):null}function r(){var e=document.createElement("script");e.src="http://pingjs.qq.com/h5/stats.js?v2.0.4",e.setAttribute("name","MTAH5"),e.setAttribute("sid","500546406");var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}function c(){var e=document.getElementsByTagName("script")[0];e.parentNode.removeChild(e)}function d(e){try{return JSON.parse(v.getItem(e))}catch(e){return null}}function l(e,t){v.setItem(e,p()(t))}i.d(t,"c",function(){return u}),i.d(t,"g",function(){return f}),t.h=a,t.a=n,t.i=o,t.e=s,t.b=r,t.d=c,t.f=d,t.j=l;var m=i("3cXf"),p=i.n(m),u="http://test-api.shijian666.com",f="http://test.shijian666.com",v=window.localStorage},I4CF:function(e,t,i){var a=i("0nnt"),n=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},IkEM:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"contentBox bindMobile"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.mobile,expression:"!mobile"}],staticClass:"tel"},[i("i",{staticClass:"iconfont icon-bind_name"}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.name,expression:"name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请填写真实姓名",name:"name",id:"name"},domProps:{value:e.name},on:{keyup:e.keyup,input:function(t){t.target.composing||(e.name=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.mobile,expression:"!mobile"}],staticClass:"tel childName"},[i("i",{staticClass:"iconfont icon-bind_kids"}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.childName,expression:"childName",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请填写孩子姓名",name:"childName",id:"childName"},domProps:{value:e.childName},on:{keyup:e.keyup,input:function(t){t.target.composing||(e.childName=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),i("div",{staticClass:"tel"},[i("i",{staticClass:"iconfont icon-bind_iphone"}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.tel,expression:"tel",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入手机号码",name:"mobile",id:"mobile"},domProps:{value:e.tel},on:{keyup:e.keyup,input:function(t){t.target.composing||(e.tel=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}}),e._v(" "),e.show?i("b",[e._v("正在获取 "+e._s(e.second)+"s")]):i("span",{on:{click:e.get}},[e._v("获取验证码")])]),e._v(" "),i("div",{staticClass:"code"},[i("i",{staticClass:"iconfont icon-bind_code"}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.code,expression:"code",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"请输入验证码",name:"code",id:"code"},domProps:{value:e.code},on:{keyup:e.keyup,input:function(t){t.target.composing||(e.code=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.mobile,expression:"!mobile"}],staticClass:"agreement clearfix"},[e.unAccept?i("b",{staticClass:"iconfont icon-bind_default fl",on:{click:e.addClass}}):i("b",{staticClass:"iconfont icon-bind_selected fl",on:{click:e.addClass}}),e._v(" "),i("span",{staticClass:"fl"},[e._v("我已阅读并接受")]),e._v(" "),i("router-link",{staticClass:"fl",attrs:{to:"/agreement"}},[e._v("《用户注册协议》")])],1),e._v(" "),i("div",{staticClass:"btn"},[i("div",{staticClass:"gray",on:{click:e.bind}},[e._v(e._s(e.btn))])])])},n=[],o={render:a,staticRenderFns:n};t.a=o},Rc0l:function(e,t,i){"use strict";(function(e){var a=i("facN"),n=(i.n(a),i("CaOM"));t.a={data:function(){return{tel:"",name:"",second:59,show:0,code:"",unAccept:!0,btn:"",mobile:Object(n.f)("mobile")||Object(n.f)("is_bind_mobile"),opType:"",childName:"",isTeacher:""}},created:function(){document.title="绑定手机号码",Object(n.b)()},mounted:function(){},activated:function(){this.mobile=Object(n.f)("mobile")||Object(n.f)("is_bind_mobile"),this.mobile?(this.btn="立即修改",this.opType=1):(this.btn="立即绑定",this.opType=0),this.unAccept=!Object(n.f)("readAgreement"),Object(n.b)()},deactivated:function(){},destroyed:function(){Object(n.d)()},methods:{addClass:function(){this.unAccept=!this.unAccept},get:function(){var e=this;this.tel;if(59==this.second){if(!this.mobile&&!/^[\u4e00-\u9fa5]{2,}$/.test(this.name))return Object(a.Toast)("请输入中文名且必须大于2位数"),!1;if(!/^1[3456789]\d{9}$/.test(this.tel))return Object(a.Toast)("手机号错误"),!1;this.show=1;var t=setInterval(function(){0==--e.second&&(e.show=0,e.second=59,clearInterval(t))},1e3);Object(a.Toast)("验证码发送成功")}var i={token:123,phone:this.tel},o=n.c+"/peony/activity/getIdentifyCode";this.$http.post(o,i,{emulateJSON:!0}).then(function(e){0==e.body.code||-1==e.body.code&&Object(a.Toast)(e.body.msg)})},bind:function(){var e=this;if(!this.tel)return void Object(a.Toast)("请输入手机号码");if(!/^1[3456789]\d{9}$/.test(this.tel))return Object(a.Toast)("手机号错误"),!1;if(!this.code)return void Object(a.Toast)("请输入验证码");if(!this.mobile&&this.unAccept)return void Object(a.Toast)("请阅读协议");var t={token:123,mobile:this.tel,truename:this.name,code:this.code,user_id:Object(n.e)("src_user_id"),op_type:this.opType},i=n.c+"/peony/activity/bindMobile";this.$http.post(i,t,{emulateJSON:!0}).then(function(t){if(console.log(t),0==t.body.code)if(Object(n.j)("readAgreement",!1),Object(n.j)("mobile",e.tel),e.mobile){var i=Object(a.Toast)("修改成功");setTimeout(function(){i.close(),e.$router.push("/mine/setting")},1e3)}else if(Object(n.e)("bindMobile_ord")){var i=Object(a.Toast)("绑定成功");setTimeout(function(){i.close(),e.$router.push("/submitOrder")},1e3)}else{var i=Object(a.Toast)("绑定成功");setTimeout(function(){i.close(),e.$router.push("/mine/setting")},1e3)}else-1==t.body.code&&Object(a.Toast)(t.body.msg)})},keyup:function(){this.mobile?this.tel&&this.code?e(".btn div").removeClass("gray"):e(".btn div").addClass("gray"):this.tel&&this.code&&this.name&&this.childName?e(".btn div").removeClass("gray"):e(".btn div").addClass("gray")}}}}).call(t,i("7t+N"))},lPL8:function(e,t,i){t=e.exports=i("BkJT")(!1),t.push([e.i,".bindMobile[data-v-56a607c8]{padding-top:.2rem}.iconfont[data-v-56a607c8]{color:#87919c}.icon-bind_selected[data-v-56a607c8]{color:#00bc71}.bindMobile div[data-v-56a607c8]{position:relative}.bindMobile input[data-v-56a607c8]{position:absolute;height:100%;top:0;left:.8rem;padding:.3rem 0}.code[data-v-56a607c8],.tel[data-v-56a607c8]{padding:.5rem 0;padding-left:.2rem;background:#fff;margin-bottom:1px}.childName[data-v-56a607c8]{margin-bottom:.1rem}i[data-v-56a607c8]{position:absolute;top:50%;left:.2rem;-webkit-transform:translateY(-50%);transform:translateY(-50%);color:#87919c}.contentBox input[data-v-56a607c8]{color:#333;font-size:14px;border:none;margin:0;width:80%}@media screen and (min-width:375px) and (max-width:414px){.contentBox input[data-v-56a607c8]{font-size:15px}}@media screen and (min-width:414px){.contentBox input[data-v-56a607c8]{font-size:16px}}input[data-v-56a607c8]::-webkit-input-placeholder{font-size:13px;color:#999}@media screen and (min-width:375px) and (max-width:414px){input[data-v-56a607c8]::-webkit-input-placeholder{font-size:14px}}@media screen and (min-width:414px){input[data-v-56a607c8]::-webkit-input-placeholder{font-size:15px}}.tel span[data-v-56a607c8]{width:1.8rem;font-size:12px;line-height:.52rem;color:#eea200;position:relative;text-align:center;border:.02rem solid #eea200;position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:.2rem;border-radius:.1rem}@media screen and (min-width:375px) and (max-width:414px){.tel span[data-v-56a607c8]{font-size:13px}}@media screen and (min-width:414px){.tel span[data-v-56a607c8]{font-size:14px}}.second[data-v-56a607c8]{height:.8rem;line-height:.8rem;padding-right:.4rem}.tel b[data-v-56a607c8]{width:1.8rem;font-size:12px;line-height:.52rem;color:#00bc71;position:relative;text-align:center;border:.02rem solid #00bc71;position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:.2rem;border-radius:.1rem}@media screen and (min-width:375px) and (max-width:414px){.tel b[data-v-56a607c8]{font-size:13px}}@media screen and (min-width:414px){.tel b[data-v-56a607c8]{font-size:14px}}.agreement[data-v-56a607c8]{line-height:.32rem;padding:.3rem .4rem 0}.agreement b[data-v-56a607c8]{font-size:14px;margin-right:.1rem}@media screen and (min-width:375px) and (max-width:414px){.agreement b[data-v-56a607c8]{font-size:15px}}@media screen and (min-width:414px){.agreement b[data-v-56a607c8]{font-size:16px}}.agreement span[data-v-56a607c8]{font-size:12px}@media screen and (min-width:375px) and (max-width:414px){.agreement span[data-v-56a607c8]{font-size:13px}}@media screen and (min-width:414px){.agreement span[data-v-56a607c8]{font-size:14px}}.agreement a[data-v-56a607c8]{font-size:12px;color:#2199ff}@media screen and (min-width:375px) and (max-width:414px){.agreement a[data-v-56a607c8]{font-size:13px}}@media screen and (min-width:414px){.agreement a[data-v-56a607c8]{font-size:14px}}.btn[data-v-56a607c8]{height:.8rem;padding:0 .2rem;margin-top:.4rem}.btn div[data-v-56a607c8]{width:100%;height:100%;background:#00bc71;border-radius:.1rem;color:#fff;font-size:14px;font-weight:600;border:none;line-height:.8rem;text-align:center}@media screen and (min-width:375px) and (max-width:414px){.btn div[data-v-56a607c8]{font-size:15px}}@media screen and (min-width:414px){.btn div[data-v-56a607c8]{font-size:16px}}.btn .gray[data-v-56a607c8]{background-color:#999}",""])},nUVv:function(e,t,i){var a=i("lPL8");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i("8bSs")("3972bed5",a,!0)}});